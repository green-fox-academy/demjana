<!DOCTYPE html>
<html lang="en" html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todo CRUD App</title>
    <link rel="icon" href=
            "https://pngimage.net/wp-content/uploads/2018/06/leaf-png-icon-6.png"
          type="image/x-icon">
</head>
<body>

<h1>TODOS FOR TODAY:</h1>

<form th:action="@{'/search'}" th:method="get">
    <label for="searchInput">Search for:</label>
    <input type="text" id="searchInput" name="searchInput" th:value="${searchInput}">
    <button type="submit" name="searchButton" value="search-by-title">by Title</button>
    <button type="submit" name="searchButton" value="search-by-content">by Content</button>
    <button type="submit" name="searchButton" value="search-by-description">by Description</button>
    <button type="submit" name="searchButton" value="search-by-assignee">by Assignee</button>
    <button type="submit" name="searchButton" value="show-all">Show All</button>
</form><br>

<a th:href="@{'/assignee'}">List of Assignee</a><br><br>

<a th:href="@{'/add'}">Add new todo</a><br><br>

<table>
    <thead>
    <tr th:style="|font-weight: bold; text-align: center;|">
        <th>ID</th>
        <th>TITLE</th>
        <th>CONTENT</th>
        <th>DESCRIPTION</th>
        <th>URGENT</th>
        <th>DONE</th>
        <th>DATE OF CREATION</th>
        <th>DUE DATE</th>
        <th>ASSIGNEE</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="todo : ${todos}" th:object="${todo}">
        <td th:text="*{id}" th:style="|border: solid black 1px|"></td>

        <td th:style="|border: solid black 1px|">
            <a th:href="@{|/${todo.id}/details|}" th:text="*{title}"></a></td>

        <td th:text="*{content}" th:style="|border: solid black 1px|"></td>
        <td th:text="*{description}" th:style="|border: solid black 1px|"></td>
        <td th:text="*{urgent}" th:style="|border: solid black 1px|"></td>
        <td th:text="*{done}" th:style="|border: solid black 1px|"></td>
        <td th:text="*{dateOfCreation}" th:style="|border: solid black 1px|"></td>
        <td th:text="*{dueDate}" th:style="|border: solid black 1px|"></td>

        <td th:style="|border: solid black 1px|" th:if="${todo.assignee} != null" th:text="*{assignee.name}"></td>
        <td th:style="|border: solid black 1px|" th:if="${todo.assignee} == null" th:text="|No Assignee selected yet|"></td>

        <td><a th:href="@{|/${todo.id}/delete|}" th:style="|border: solid black 1px|">Delete</a></td>
        <td><a th:href="@{|/${todo.id}/edit|}" th:style="|border: solid black 1px|">Edit</a></td>
    </tr>
    </tbody>
</table>
</body>
</html>

